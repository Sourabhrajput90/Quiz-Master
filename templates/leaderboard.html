{% extends "base.html" %}
{% load custom_filters %}

{% block title %}Leaderboard{% endblock %}

{% block head %}
<!-- Add AOS (Animate On Scroll) CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
{% endblock %}

{% block body %}

<div class="container mt-5">
    <h2 class="text-center" data-aos="zoom-in" data-aos-duration="1000">üèÜ Leaderboard</h2>

    {% if scores %}
    <table class="table table-striped mt-3" data-aos="fade-up" data-aos-duration="1000">
        <thead>
            <tr>
                <th>Rank</th>
                <th>Username</th>
                <th>Quiz</th>
                <th>Score</th>
                <th>Percentage</th>
            </tr>
        </thead>
        <tbody>
            {% for score in scores %}
            <tr data-aos="fade-up" data-aos-duration="1000">
                <td>{{ forloop.counter }}</td>
                <td>{{ score.user.username }}</td>
                <td>{{ score.quiz.title }}</td>
                <td>{{ score.score }}/{{ score.total_questions }}</td>
                <td>{{ score.percentage|floatformat:2 }}%</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p class="text-center text-muted" data-aos="fade-up" data-aos-duration="1000">No results yet. Be the first to take a quiz!</p>
    {% endif %}
</div>

<!-- Add AOS (Animate On Scroll) JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
<script>
    AOS.init(); // Initialize AOS animations
</script>
{% endblock %}
